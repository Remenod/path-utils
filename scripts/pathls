#!/bin/bash

# Help
if [ "$1" = "--help" ] || [ "$1" = "-h" ] || [ -z "$1" ]; then
    echo ""
    echo "Usage: pathls"
    echo ""
    echo "Shows all directories in PATH"
    echo ""
    echo "Options:"
    echo "  -h, --help     Show this help message"
    return 0 2>/dev/null || exit 0
fi


RED="\e[31m"
YELLOW="\e[33m"
RESET="\e[0m"

IFS=':' read -ra DIRS <<< "$PATH"
declare -A seen

echo "Directories in PATH:"
for dir in "${DIRS[@]}"; do
    [[ -z "$dir" ]] && continue

    if [[ -z "${seen[$dir]}" ]]; then
        seen["$dir"]=1
        if [ -d "$dir" ]; then
            echo "  $dir"
        else
            echo -e "  ${RED}$dir (does not exist)${RESET}"
        fi
    else
        echo -e "  ${YELLOW}$dir (duplicate)${RESET}"
    fi
done
